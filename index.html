<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Big Valentine Flipbook</title>

<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(to bottom, #ffb6c1, #ffe4e1);
    font-family: Arial, sans-serif;
}

.book {
    width: 90vw;
    max-width: 1100px;
    height: 80vh;
    max-height: 900px;
    position: relative;
    perspective: 3000px;
    cursor: pointer;
    touch-action: pan-y;
}

.page {
    position: absolute;
    width: 50%;
    height: 100%;
    right: 0;
    background: white;
    border-left: 4px solid #ff69b4;
    box-shadow: -8px 8px 18px rgba(0,0,0,0.3);
    transform-origin: bottom left;
    transform-style: preserve-3d;
    transition: transform 1.1s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    backface-visibility: hidden;
}

.page img {
    width: 90%;
    max-height: 65%;
    object-fit: cover;
    border-radius: 15px;
    margin-bottom: 20px;
}

.page p {
    color: #d63384;
    font-size: 22px;
    font-weight: bold;
    text-align: center;
}

.page.flipped {
    transform: rotateY(-180deg) rotateX(6deg);
}

/* Cover Styling */
.cover {
    background: linear-gradient(to right, #ff69b4, #ff1493);
    color: white;
    font-size: 34px;
    font-weight: bold;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/* Make the first cover line red, smaller, centered */
.cover p:first-child {
    color: white;               /* red text */
    font-size: 27px;          /* 20% smaller than 34px */
    text-align: center;      
    margin: 5px 0;           
}

.controls {
    position: absolute;
    bottom: -80px;
    width: 100%;
    text-align: center;
}

button {
    background: #ff69b4;
    border: none;
    padding: 12px 28px;
    margin: 0 15px;
    border-radius: 8px;
    color: white;
    font-size: 18px;
    cursor: pointer;
}

button:disabled {
    background: #ccc;
    cursor: not-allowed;
}

/* MOBILE OPTIMIZATION */
@media (max-width: 768px) {
    .book {
        width: 95vw;
        height: 90vh;
    }
    .page {
        width: 80%;
        right: 0;
        padding: 15px;
    }
    .page img {
        max-height: 45%;
    }
    .page p {
        font-size: 15px;
    }
    .controls {
        bottom: -60px;
    }
}
</style>
</head>

<body>

<!-- Background music -->
<audio id="bgMusic" src="Tahanan.mp3" loop></audio>

<div class="book" id="book">

    <!-- Cover -->
    <div class="page cover">
        <p>üíñ Happy Valentines Yot! üíñ</p>
        <p>From Yot!</p>
        <p>Click side or swipe to Next</p>
    </div>

    <!-- Page 1 -->
    <div class="page">
        <img src="yot1.jpeg" alt="Photo 1">
        <p>Happy Valentine‚Äôs Day üíê Today is a celebration of love, and my heart is grateful for you and the beautiful moments we share. Your presence brings warmth, your smile brings peace, and loving you makes every ordinary day feel special. I hope this reminds you how deeply you are cherished, today and always.</p>
    </div>

    <!-- Page 2 -->
    <div class="page">
        <img src="yot2.jpeg" alt="Photo 2">
        <p>You make every day feel special ‚ù§Ô∏è</p>
        <p>With you, even the quiet moments glow, every smile feels like a promise, and every heartbeat knows it‚Äôs home. In your presence, time slows, love deepens, and my ordinary days turn into beautiful memories written just for us.</p>
    </div>

    <!-- Page 3 -->
    <div class="page">
        <img src="yot3.jpeg" alt="Photo 3">
        <p style="font-size:16px; text-align:center;">
            O, ang iyong ngiti, liwanag ng aking umaga. Parang sinag ng araw sa himpapawid na payapa. Sa bawat titig, puso ko‚Äôy napapaibig, at ang mundo‚Äôy tila humihinto, sa ganda mong walang kapantay. Ikaw ang bituin sa madilim kong gabi, ang ilaw sa aking landas na maligoy, at sa bawat ngiti mo, aking sulyap sa langit. Damdamin ko‚Äôy nahuhulog, sa walang hanggang pag-ibig.
        </p>
    </div>
    
    <!-- Page 4 -->
    <div class="page">
        <img src="yot4.jpeg" alt="Photo 4">
        <p>Araw-araw ay pinupuno mo ng ligaya ang aking puso, at sa bawat sandali kasama ka, ramdam ko ang init ng pagmamahal mo. Parang bulaklak na namumukadkad sa umaga, ikaw ang liwanag na gumagabay sa aking landas, ang tula sa bawat tibok ng aking puso, at sa bawat halakhak at ngiti mo, natututo akong pahalagahan ang bawat sandali at magmahal ng walang hanggan.</p>
    </div>

</div>

<div class="controls">
    <button id="prev" disabled>Previous</button>
    <button id="next">Next</button>
</div>

<script>
const book = document.getElementById('book');
const pages = document.querySelectorAll('.page');
const bgMusic = document.getElementById('bgMusic');
let current = 0;
let musicStarted = false;

pages.forEach((page, i) => {
    page.style.zIndex = pages.length - i;
});

// TOUCH SUPPORT
let touchStartX = 0;
book.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;

    // Start music on first interaction
    if (!musicStarted) {
        bgMusic.play().catch(() => console.log('Audio blocked on mobile'));
        musicStarted = true;
    }
});

book.addEventListener('touchend', (e) => {
    const touchEndX = e.changedTouches[0].clientX;
    const deltaX = touchEndX - touchStartX;

    if (deltaX < -50) flipNext();
    else if (deltaX > 50) flipPrev();
});

// Click side flip and start music
book.addEventListener('click', (e) => {
    if (!musicStarted) {
        bgMusic.play().catch(() => console.log('Audio blocked on mobile'));
        musicStarted = true;
    }

    const rect = book.getBoundingClientRect();
    const clickX = e.clientX - rect.left;
    if (clickX > rect.width / 2) flipNext();
    else flipPrev();
});

// BUTTONS
document.getElementById('next').addEventListener('click', () => {
    if (!musicStarted) { bgMusic.play().catch(() => {}); musicStarted = true; }
    flipNext();
});
document.getElementById('prev').addEventListener('click', () => {
    if (!musicStarted) { bgMusic.play().catch(() => {}); musicStarted = true; }
    flipPrev();
});

function flipNext() {
    if (current < pages.length - 1) pages[current].classList.add('flipped'), current++;
    updateButtons();
}

function flipPrev() {
    if (current > 0) current--, pages[current].classList.remove('flipped');
    updateButtons();
}

function updateButtons() {
    document.getElementById('prev').disabled = current === 0;
    document.getElementById('next').disabled = current === pages.length - 1;
}

updateButtons();
</script>

</body>
</html>
